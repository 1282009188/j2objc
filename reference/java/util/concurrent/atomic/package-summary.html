---

title: java.util.concurrent.atomic - JRE Emulation<

layout: api
---













































  <div class="g-section g-tpl-240" id="body-content">
    <div class="g-unit g-first side-nav-resizable" id="side-nav">
      <div id="swapper">
        <div id="nav-panels">
          <div id="resize-packages-nav">
            <div id="packages-nav">
              <div id="index-links">
                <a href="../../../../../packages.html"  >Package Index</a> | 
                <a href="../../../../../classes.html" >Class Index</a>
              </div>
              <ul>
                
    <li class="api apilevel-">
  <a href="../../../../../reference/android/os/package-summary.html">android.os</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/android/test/suitebuilder/annotation/package-summary.html">android.test.suitebuilder.annotation</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/android/text/package-summary.html">android.text</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/android/text/util/package-summary.html">android.text.util</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/android/util/package-summary.html">android.util</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/beans/package-summary.html">java.beans</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/io/package-summary.html">java.io</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/lang/package-summary.html">java.lang</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/lang/annotation/package-summary.html">java.lang.annotation</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/lang/invoke/package-summary.html">java.lang.invoke</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/lang/ref/package-summary.html">java.lang.ref</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/lang/reflect/package-summary.html">java.lang.reflect</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/math/package-summary.html">java.math</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/net/package-summary.html">java.net</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/nio/package-summary.html">java.nio</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/nio/channels/package-summary.html">java.nio.channels</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/nio/channels/spi/package-summary.html">java.nio.channels.spi</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/nio/charset/package-summary.html">java.nio.charset</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/security/package-summary.html">java.security</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/security/cert/package-summary.html">java.security.cert</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/security/interfaces/package-summary.html">java.security.interfaces</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/security/spec/package-summary.html">java.security.spec</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/sql/package-summary.html">java.sql</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/text/package-summary.html">java.text</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/util/package-summary.html">java.util</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/util/concurrent/package-summary.html">java.util.concurrent</a></li>
    <li class="selected api apilevel-">
  <a href="../../../../../reference/java/util/concurrent/atomic/package-summary.html">java.util.concurrent.atomic</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/util/concurrent/locks/package-summary.html">java.util.concurrent.locks</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/util/logging/package-summary.html">java.util.logging</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/util/regex/package-summary.html">java.util.regex</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/java/util/zip/package-summary.html">java.util.zip</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/annotation/package-summary.html">javax.annotation</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/crypto/package-summary.html">javax.crypto</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/crypto/spec/package-summary.html">javax.crypto.spec</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/lang/model/element/package-summary.html">javax.lang.model.element</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/net/package-summary.html">javax.net</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/net/ssl/package-summary.html">javax.net.ssl</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/security/auth/package-summary.html">javax.security.auth</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/security/auth/callback/package-summary.html">javax.security.auth.callback</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/security/auth/x500/package-summary.html">javax.security.auth.x500</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/security/cert/package-summary.html">javax.security.cert</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/xml/package-summary.html">javax.xml</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/xml/datatype/package-summary.html">javax.xml.datatype</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/xml/namespace/package-summary.html">javax.xml.namespace</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/xml/parsers/package-summary.html">javax.xml.parsers</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/xml/transform/package-summary.html">javax.xml.transform</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/xml/transform/dom/package-summary.html">javax.xml.transform.dom</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/xml/transform/sax/package-summary.html">javax.xml.transform.sax</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/xml/transform/stream/package-summary.html">javax.xml.transform.stream</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/xml/validation/package-summary.html">javax.xml.validation</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/javax/xml/xpath/package-summary.html">javax.xml.xpath</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/org/json/package-summary.html">org.json</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/org/w3c/dom/package-summary.html">org.w3c.dom</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/org/w3c/dom/ls/package-summary.html">org.w3c.dom.ls</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/org/xml/sax/package-summary.html">org.xml.sax</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/org/xml/sax/ext/package-summary.html">org.xml.sax.ext</a></li>
    <li class="api apilevel-">
  <a href="../../../../../reference/org/xml/sax/helpers/package-summary.html">org.xml.sax.helpers</a></li>
              </ul><br/>
            </div> <!-- end packages -->
          </div> <!-- end resize-packages -->
          <div id="classes-nav">
            <ul>
              
              
    <li><h2>Classes</h2>
      <ul>
        <li class="api apilevel-"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicBoolean.html">AtomicBoolean</a></li>
        <li class="api apilevel-"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicInteger.html">AtomicInteger</a></li>
        <li class="api apilevel-"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicIntegerArray.html">AtomicIntegerArray</a></li>
        <li class="api apilevel-"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicIntegerFieldUpdater.html">AtomicIntegerFieldUpdater</a>&lt;T&gt;</li>
        <li class="api apilevel-"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicLong.html">AtomicLong</a></li>
        <li class="api apilevel-"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicLongArray.html">AtomicLongArray</a></li>
        <li class="api apilevel-"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicLongFieldUpdater.html">AtomicLongFieldUpdater</a>&lt;T&gt;</li>
        <li class="api apilevel-"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicMarkableReference.html">AtomicMarkableReference</a>&lt;V&gt;</li>
        <li class="api apilevel-"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicReference.html">AtomicReference</a>&lt;V&gt;</li>
        <li class="api apilevel-"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicReferenceArray.html">AtomicReferenceArray</a>&lt;E&gt;</li>
        <li class="api apilevel-"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.html">AtomicReferenceFieldUpdater</a>&lt;T,&nbsp;V&gt;</li>
        <li class="api apilevel-"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicStampedReference.html">AtomicStampedReference</a>&lt;V&gt;</li>
      </ul>
    </li>
              
              
              
              
            </ul><br/>
          </div><!-- end classes -->
        </div><!-- end nav-panels -->
        <div id="nav-tree" style="display:none">
          <div id="index-links">
            <a href="../../../../../packages.html"  >Package Index</a> | 
            <a href="../../../../../classes.html" >Class Index</a>
          </div>
        </div><!-- end nav-tree -->
      </div><!-- end swapper -->
    </div> <!-- end side-nav -->
    <script>
      if (!isMobile) {
        $("<a href='#' id='nav-swap' onclick='swapNav();return false;' style='font-size:10px;line-height:9px;margin-left:1em;text-decoration:none;'><span id='tree-link'>Use Tree Navigation</span><span id='panel-link' style='display:none'>Use Panel Navigation</span></a>").appendTo("#side-nav");
        chooseDefaultNav();
        if ($("#nav-tree").is(':visible')) {
          init_default_navtree("../../../../../");
        } else {
          addLoadEvent(function() {
            scrollIntoView("packages-nav");
            scrollIntoView("classes-nav");
          });
        }
        $("#swapper").css({borderBottom:"2px solid #aaa"});
      } else {
        swapNav(); // tree view should be used on mobile
      }
    </script>


<div id="jd-header">
  package
  <h1>java.util.concurrent.atomic</h1>
</div><!-- end header -->

<div id="naMessage"></div>

<div id="jd-content" class="api apilevel-">


  <div class="jd-descr">
    A small toolkit of classes that support lock-free thread-safe
 programming on single variables.  In essence, the classes in this
 package extend the notion of <code>volatile</code> values, fields, and
 array elements to those that also provide an atomic conditional update
 operation of the form:

  <pre> <code>boolean compareAndSet(expectedValue, updateValue);</code></pre>

 <p>This method (which varies in argument types across different
 classes) atomically sets a variable to the <code>updateValue</code> if it
 currently holds the <code>expectedValue</code>, reporting <code>true</code> on
 success.  The classes in this package also contain methods to get and
 unconditionally set values, as well as a weaker conditional atomic
 update operation <code>weakCompareAndSet</code> described below.

 <p>The specifications of these methods enable implementations to
 employ efficient machine-level atomic instructions that are available
 on contemporary processors.  However on some platforms, support may
 entail some form of internal locking.  Thus the methods are not
 strictly guaranteed to be non-blocking --
 a thread may block transiently before performing the operation.

 <p>Instances of classes
 <code><a href="reference/java/util/concurrent/atomic/AtomicBoolean.html">AtomicBoolean</a></code>,
 <code><a href="reference/java/util/concurrent/atomic/AtomicInteger.html">AtomicInteger</a></code>,
 <code><a href="reference/java/util/concurrent/atomic/AtomicLong.html">AtomicLong</a></code>, and
 <code><a href="reference/java/util/concurrent/atomic/AtomicReference.html">AtomicReference</a></code>
 each provide access and updates to a single variable of the
 corresponding type.  Each class also provides appropriate utility
 methods for that type.  For example, classes <code>AtomicLong</code> and
 <code>AtomicInteger</code> provide atomic increment methods.  One
 application is to generate sequence numbers, as in:

  <pre> <code>class Sequencer {
   private final AtomicLong sequenceNumber
     = new AtomicLong(0);
   public long next() {
     return sequenceNumber.getAndIncrement();
   </code>
 }}</pre>

 <p>It is straightforward to define new utility functions that, like
 <code>getAndIncrement</code>, apply a function to a value atomically.
 For example, given some transformation
 <pre> <code>long transform(long input)</code></pre>

 write your utility method as follows:
  <pre> <code>long getAndTransform(AtomicLong var) {
   while (true) {
     long current = var.get();
     long next = transform(current);
     if (var.compareAndSet(current, next))
         return current;
         // return next; for transformAndGet
   </code>
 }}</pre>

 <p>The memory effects for accesses and updates of atomics generally
 follow the rules for volatiles, as stated in
 <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4">
 The Java Language Specification (17.4 Memory Model)</a>:

 <ul>

   <li> <code>get</code> has the memory effects of reading a
 <code>volatile</code> variable.

   <li> <code>set</code> has the memory effects of writing (assigning) a
 <code>volatile</code> variable.

   <li> <code>lazySet</code> has the memory effects of writing (assigning)
   a <code>volatile</code> variable except that it permits reorderings with
   subsequent (but not previous) memory actions that do not themselves
   impose reordering constraints with ordinary non-<code>volatile</code>
   writes.  Among other usage contexts, <code>lazySet</code> may apply when
   nulling out, for the sake of garbage collection, a reference that is
   never accessed again.

   <li><code>weakCompareAndSet</code> atomically reads and conditionally
   writes a variable but does <em>not</em>
   create any happens-before orderings, so provides no guarantees
   with respect to previous or subsequent reads and writes of any
   variables other than the target of the <code>weakCompareAndSet</code>.

   <li> <code>compareAndSet</code>
   and all other read-and-update operations such as <code>getAndIncrement</code>
   have the memory effects of both reading and
   writing <code>volatile</code> variables.
 </ul>

 <p>In addition to classes representing single values, this package
 contains <em>Updater</em> classes that can be used to obtain
 <code>compareAndSet</code> operations on any selected <code>volatile</code>
 field of any selected class.

 <code><a href="reference/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.html">AtomicReferenceFieldUpdater</a></code>,
 <code><a href="reference/java/util/concurrent/atomic/AtomicIntegerFieldUpdater.html">AtomicIntegerFieldUpdater</a></code>, and
 <code><a href="reference/java/util/concurrent/atomic/AtomicLongFieldUpdater.html">AtomicLongFieldUpdater</a></code> are
 reflection-based utilities that provide access to the associated
 field types.  These are mainly of use in atomic data structures in
 which several <code>volatile</code> fields of the same node (for
 example, the links of a tree node) are independently subject to
 atomic updates.  These classes enable greater flexibility in how
 and when to use atomic updates, at the expense of more awkward
 reflection-based setup, less convenient usage, and weaker
 guarantees.

 <p>The
 <code><a href="reference/java/util/concurrent/atomic/AtomicIntegerArray.html">AtomicIntegerArray</a></code>,
 <code><a href="reference/java/util/concurrent/atomic/AtomicLongArray.html">AtomicLongArray</a></code>, and
 <code><a href="reference/java/util/concurrent/atomic/AtomicReferenceArray.html">AtomicReferenceArray</a></code> classes
 further extend atomic operation support to arrays of these types.
 These classes are also notable in providing <code>volatile</code> access
 semantics for their array elements, which is not supported for
 ordinary arrays.

 <p id="weakCompareAndSet">The atomic classes also support method
 <code>weakCompareAndSet</code>, which has limited applicability.  On some
 platforms, the weak version may be more efficient than <code>compareAndSet</code> in the normal case, but differs in that any given
 invocation of the <code>weakCompareAndSet</code> method may return <code>false</code> <em>spuriously</em> (that is, for no apparent reason).  A
 <code>false</code> return means only that the operation may be retried if
 desired, relying on the guarantee that repeated invocation when the
 variable holds <code>expectedValue</code> and no other thread is also
 attempting to set the variable will eventually succeed.  (Such
 spurious failures may for example be due to memory contention effects
 that are unrelated to whether the expected and current values are
 equal.)  Additionally <code>weakCompareAndSet</code> does not provide
 ordering guarantees that are usually needed for synchronization
 control.  However, the method may be useful for updating counters and
 statistics when such updates are unrelated to the other
 happens-before orderings of a program.  When a thread sees an update
 to an atomic variable caused by a <code>weakCompareAndSet</code>, it does
 not necessarily see updates to any <em>other</em> variables that
 occurred before the <code>weakCompareAndSet</code>.  This may be
 acceptable when, for example, updating performance statistics, but
 rarely otherwise.

 <p>The <code><a href="reference/java/util/concurrent/atomic/AtomicMarkableReference.html">AtomicMarkableReference</a></code>
 class associates a single boolean with a reference.  For example, this
 bit might be used inside a data structure to mean that the object
 being referenced has logically been deleted.

 The <code><a href="reference/java/util/concurrent/atomic/AtomicStampedReference.html">AtomicStampedReference</a></code>
 class associates an integer value with a reference.  This may be
 used for example, to represent version numbers corresponding to
 series of updates.

 <p>Atomic classes are designed primarily as building blocks for
 implementing non-blocking data structures and related infrastructure
 classes.  The <code>compareAndSet</code> method is not a general
 replacement for locking.  It applies only when critical updates for an
 object are confined to a <em>single</em> variable.

 <p>Atomic classes are not general purpose replacements for
 <code>java.lang.Integer</code> and related classes.  They do <em>not</em>
 define methods such as <code>equals</code>, <code>hashCode</code> and
 <code>compareTo</code>.  (Because atomic variables are expected to be
 mutated, they are poor choices for hash table keys.)  Additionally,
 classes are provided only for those types that are commonly useful in
 intended applications.  For example, there is no atomic class for
 representing <code>byte</code>.  In those infrequent cases where you would
 like to do so, you can use an <code>AtomicInteger</code> to hold
 <code>byte</code> values, and cast appropriately.

 You can also hold floats using
 <code><a href="reference/java/lang/Float.html#floatToRawIntBits(float)">floatToRawIntBits(float)</a></code> and
 <code><a href="reference/java/lang/Float.html#intBitsToFloat(int)">intBitsToFloat(int)</a></code> conversions, and doubles using
 <code><a href="reference/java/lang/Double.html#doubleToRawLongBits(double)">doubleToRawLongBits(double)</a></code> and
 <code><a href="reference/java/lang/Double.html#longBitsToDouble(long)">longBitsToDouble(long)</a></code> conversions.
  </div>





  


  
    <h3>Classes</h3>
    <div class="jd-sumtable">
    
  <table class="jd-sumtable-expando">
        <tr class="alt-color api apilevel-" >
              <td class="jd-linkcol"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicBoolean.html">AtomicBoolean</a></td>
              <td class="jd-descrcol" width="100%">A <code>boolean</code> value that may be updated atomically.&nbsp;</td>
          </tr>
        <tr class=" api apilevel-" >
              <td class="jd-linkcol"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicInteger.html">AtomicInteger</a></td>
              <td class="jd-descrcol" width="100%">An <code>int</code> value that may be updated atomically.&nbsp;</td>
          </tr>
        <tr class="alt-color api apilevel-" >
              <td class="jd-linkcol"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicIntegerArray.html">AtomicIntegerArray</a></td>
              <td class="jd-descrcol" width="100%">An <code>int</code> array in which elements may be updated atomically.&nbsp;</td>
          </tr>
        <tr class=" api apilevel-" >
              <td class="jd-linkcol"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicIntegerFieldUpdater.html">AtomicIntegerFieldUpdater</a>&lt;T&gt;</td>
              <td class="jd-descrcol" width="100%">A reflection-based utility that enables atomic updates to
 designated <code>volatile int</code> fields of designated classes.&nbsp;</td>
          </tr>
        <tr class="alt-color api apilevel-" >
              <td class="jd-linkcol"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicLong.html">AtomicLong</a></td>
              <td class="jd-descrcol" width="100%">A <code>long</code> value that may be updated atomically.&nbsp;</td>
          </tr>
        <tr class=" api apilevel-" >
              <td class="jd-linkcol"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicLongArray.html">AtomicLongArray</a></td>
              <td class="jd-descrcol" width="100%">A <code>long</code> array in which elements may be updated atomically.&nbsp;</td>
          </tr>
        <tr class="alt-color api apilevel-" >
              <td class="jd-linkcol"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicLongFieldUpdater.html">AtomicLongFieldUpdater</a>&lt;T&gt;</td>
              <td class="jd-descrcol" width="100%">A reflection-based utility that enables atomic updates to
 designated <code>volatile long</code> fields of designated classes.&nbsp;</td>
          </tr>
        <tr class=" api apilevel-" >
              <td class="jd-linkcol"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicMarkableReference.html">AtomicMarkableReference</a>&lt;V&gt;</td>
              <td class="jd-descrcol" width="100%">An <code>AtomicMarkableReference</code> maintains an object reference
 along with a mark bit, that can be updated atomically.&nbsp;</td>
          </tr>
        <tr class="alt-color api apilevel-" >
              <td class="jd-linkcol"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicReference.html">AtomicReference</a>&lt;V&gt;</td>
              <td class="jd-descrcol" width="100%">An object reference that may be updated atomically.&nbsp;</td>
          </tr>
        <tr class=" api apilevel-" >
              <td class="jd-linkcol"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicReferenceArray.html">AtomicReferenceArray</a>&lt;E&gt;</td>
              <td class="jd-descrcol" width="100%">An array of object references in which elements may be updated
 atomically.&nbsp;</td>
          </tr>
        <tr class="alt-color api apilevel-" >
              <td class="jd-linkcol"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.html">AtomicReferenceFieldUpdater</a>&lt;T,&nbsp;V&gt;</td>
              <td class="jd-descrcol" width="100%">A reflection-based utility that enables atomic updates to
 designated <code>volatile</code> reference fields of designated
 classes.&nbsp;</td>
          </tr>
        <tr class=" api apilevel-" >
              <td class="jd-linkcol"><a href="../../../../../reference/java/util/concurrent/atomic/AtomicStampedReference.html">AtomicStampedReference</a>&lt;V&gt;</td>
              <td class="jd-descrcol" width="100%">An <code>AtomicStampedReference</code> maintains an object reference
 along with an integer "stamp", that can be updated atomically.&nbsp;</td>
          </tr>
  </table>
    </div>
  


  


  


  

